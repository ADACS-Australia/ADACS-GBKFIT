{% extends 'base/base.html' %}

{% block info-bar %}
{#    <div class="page-header">Infobar</div>#}
{#    {% if request.session.draft_job %}<p>Job: {{ request.session.draft_job }}</p>{% endif %}#}
{#    {% if request.session.dataset %} <p>Dataset: {{ request.session.dataset }}</p>{% endif %}#}
{#    {% if request.session.data_model %} <p>Data model: {{ request.session.data_model }}</p>{% endif %}#}
{#    {% if request.session.psf %} <p>PSF: {{ request.session.psf }}</p>{% endif %}#}
{#    {% if request.session.lsf %} <p>LSF: {{ request.session.lsf }}</p>{% endif %}#}
{#    {% if request.session.galaxy_model %} <p>Galaxy model: {{ request.session.galaxy_model }}</p>{% endif %}#}
{#    {% if request.session.fitter %} <p>Fitter: {{ request.session.fitter }}</p>{% endif %}#}
{#    {% if request.session.params %} <p>Params: {{ request.session.params }}</p>{% endif %}#}
{% endblock info-bar %}

{% block page_header %}
    Results
{% endblock page_header %}

{% block content %}
    <div id="id_dmodel_view">
        <h3 class="col-md-2">Job info</h3>
        {% for field,value in job_view.fields.items %}
            <div class="container-fluid field
                div-{{ field }}
                col-md-12
                ">

                <!-- Label -->
                <label class="col-md-2">
                    {{ value.0 }}
                </label>

                <!-- Field -->
                <div class="bg-info col-md-10">
                    {{ value.1 }}
                </div>

            </div>
        {% endfor %}

        <h3 class="col-md-2">Image</h3>
        {% for field,value in job_view.result.fields.items %}
            <div class="container-fluid field
                div-{{ field }}
                col-md-12
                ">

                <!-- Label -->
                <label class="col-md-2">
                    {{ value.0 }}
                </label>

                <!-- Field -->
                <div class="bg-info col-md-8">
                    {{ value.1 }}
                </div>

            </div>
        {% endfor %}

        <h3 class="col-md-2">Best fit</h3>
        {% for field,value in job_view.result.fields.items %}
            <div class="container-fluid field
                div-{{ field }}
                col-md-12
                ">

                <!-- Label -->
                <label class="col-md-2">
                    {{ value.0 }}
                </label>

                <!-- Field -->
                <div class="bg-info col-md-8">
                    {{ value.1 }}
                </div>

            </div>
        {% endfor %}

        {% for index, mode in job_view.result.modes.items %}
            <h3 class="col-md-2">Modes</h3>
            <div class="container-fluid field col-md-12">
                <label class="col-md-2">Mode {{ index }} </label>
                {% for field,value in mode.fields.items %}
                    <div class="container-fluid field
                        div-mode-{{ index }}
                        col-md-11-
                        ">

                        <!-- Label -->
                        <label class="col-md-2">
                            {{ value.0 }}
                        </label>

                        <!-- Field -->
                        <div class="bg-info col-md-4">
                            {{ value.1 }}
                        </div>

                    </div>
                {% endfor %}
                <div class="container-fluid field
                        col-md-12
                        ">
                    <label class="col-md-4">Parameters</label>
                    {% for index_param,param in mode.params.items %}
                        <div class="div-mode-params
                                    container-fluid field
                                    col-md-12">
                        <label class="col-md-1">

                        </label>
                        {% for field_param,value_param in param.fields.items %}
                                <!-- Label -->
                                <label class="col-md-1">
                                    {{ value_param.0 }}
                                </label>

                                <!-- Field -->
                                <div class="bg-info col-md-2">
                                    {{ value_param.1 }}
                                </div>
                        {% endfor %}
                        </div>
                    {% endfor %}
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock content %}
